import json, ast

resGetWebhookData = "[{'eventId': '9e939c0c-fec3-4404-aa2d-ef09c3775d72', 'orgId': '50202', 'consumerGroupId': '9f6ada64-8bc9-4745-a836-0e71ed46ff6f', 'deliveryStatus': 'FAILED', 'eventSearchKey': '385216571', 'eventType': 'pointsIssued', 'originalPayload': '{\"eventId\":\"9e939c0c-fec3-4404-aa2d-ef09c3775d72\",\"eventType\":\"50202_pointsIssued\",\"consumerGroupId\":\"\",\"actionType\":\"START\",\"timeStamp\":1756129977777,\"attributes\":{\"createdAt\":1756129977630,\"data\":{\"customerIdentifiers\":{\"customerId\":385216571,\"instore\":{\"mobile\":\"917412789085\",\"email\":\"autoemail917412789085@capautomation.com\",\"cardNumbers\":[]}},\"entityInformation\":{\"entityType\":\"USER\",\"entityId\":385216571},\"triggeringActivity\":{\"name\":\"CustomerRegistration\",\"identifiers\":[{\"key\":\"CustomerId\",\"value\":\"385216571\"}],\"enteredBy\":{\"id\":50119074},\"entityInformation\":{\"entityType\":\"USER\",\"entityId\":385216571},\"additionalAttributes\":[]},\"loyaltyProgramDetails\":{\"id\":868,\"name\":\"SoapUI_AutomationDefaultProgram\",\"isDefault\":true,\"pointsToCurrencyRatio\":1.0,\"tiers\":[{\"tierNumber\":1,\"tierName\":\"Silver\"},{\"tierNumber\":2,\"tierName\":\"Gold\"},{\"tierNumber\":3,\"tierName\":\"Diamond\"}]},\"loyaltyProgramId\":868,\"programCurrentPoints\":140.0,\"programLifetimePoints\":140.0,\"totalPointsIssued\":140.0,\"regularPointsIssued\":140.0,\"regularPointsBreakup\":[{\"points\":140.0,\"expiryAt\":\"2026-08-31\"}],\"promotionalPointsIssued\":[],\"promisedPointsIssued\":[]},\"loyaltyEventId\":\"Er69KH5qsX\",\"eventName\":\"pointsIssued\",\"eventLogId\":7325350,\"refId\":\"50202_Er69KH5qsX\",\"apiRequestId\":\"e29419fc1dac843deb9052a1163b39d2\",\"orgId\":50202}}', 'enrichedPayload': '\"{\\\\\"createdAt\\\\\":1756129977630,\\\\\"data\\\\\":{\\\\\"customerIdentifiers\\\\\":{\\\\\"customerId\\\\\":385216571,\\\\\"loyaltyType\\\\\":\\\\\"loyalty\\\\\",\\\\\"instore\\\\\":{\\\\\"mobile\\\\\":\\\\\"917412789085\\\\\",\\\\\"email\\\\\":\\\\\"autoemail917412789085@capautomation.com\\\\\",\\\\\"cardNumbers\\\\\":[\\\\\"cardnumber_917412789085\\\\\"]}},\\\\\"entityInformation\\\\\":{\\\\\"entityType\\\\\":\\\\\"USER\\\\\",\\\\\"entityId\\\\\":385216571},\\\\\"triggeringActivity\\\\\":{\\\\\"name\\\\\":\\\\\"CustomerRegistration\\\\\",\\\\\"identifiers\\\\\":[{\\\\\"key\\\\\":\\\\\"CustomerId\\\\\",\\\\\"value\\\\\":\\\\\"385216571\\\\\"}],\\\\\"enteredBy\\\\\":{\\\\\"id\\\\\":50119074,\\\\\"till\\\\\":{\\\\\"code\\\\\":\\\\\"api.auto1\\\\\",\\\\\"name\\\\\":\\\\\"api.auto1\\\\\"},\\\\\"store\\\\\":{\\\\\"code\\\\\":\\\\\"alpha\\\\\",\\\\\"name\\\\\":\\\\\"alpha_store\\\\\",\\\\\"externalId\\\\\":\\\\\"alpha\\\\\",\\\\\"externalId1\\\\\":\\\\\"\\\\\",\\\\\"externalId2\\\\\":\\\\\"\\\\\"}},\\\\\"entityInformation\\\\\":{\\\\\"entityType\\\\\":\\\\\"USER\\\\\",\\\\\"entityId\\\\\":385216571},\\\\\"additionalAttributes\\\\\":[]},\\\\\"loyaltyProgramDetails\\\\\":{\\\\\"id\\\\\":868,\\\\\"name\\\\\":\\\\\"SoapUI_AutomationDefaultProgram\\\\\",\\\\\"isDefault\\\\\":true,\\\\\"pointsToCurrencyRatio\\\\\":1,\\\\\"tiers\\\\\":[{\\\\\"tierNumber\\\\\":1,\\\\\"tierName\\\\\":\\\\\"Silver\\\\\"},{\\\\\"tierNumber\\\\\":2,\\\\\"tierName\\\\\":\\\\\"Gold\\\\\"},{\\\\\"tierNumber\\\\\":3,\\\\\"tierName\\\\\":\\\\\"Diamond\\\\\"}]},\\\\\"loyaltyProgramId\\\\\":868,\\\\\"programCurrentPoints\\\\\":140,\\\\\"programLifetimePoints\\\\\":140,\\\\\"totalPointsIssued\\\\\":140,\\\\\"regularPointsIssued\\\\\":140,\\\\\"regularPointsBreakup\\\\\":[{\\\\\"points\\\\\":140,\\\\\"expiryAt\\\\\":\\\\\"2026-08-31\\\\\"}],\\\\\"promotionalPointsIssued\\\\\":[],\\\\\"promisedPointsIssued\\\\\":[]},\\\\\"loyaltyEventId\\\\\":\\\\\"Er69KH5qsX\\\\\",\\\\\"eventName\\\\\":\\\\\"pointsIssued\\\\\",\\\\\"eventLogId\\\\\":7325350,\\\\\"refId\\\\\":\\\\\"50202_Er69KH5qsX\\\\\",\\\\\"apiRequestId\\\\\":\\\\\"e29419fc1dac843deb9052a1163b39d2\\\\\",\\\\\"orgId\\\\\":50202,\\\\\"eventId\\\\\":\\\\\"9e939c0c-fec3-4404-aa2d-ef09c3775d72\\\\\"}\"', 'eventGeneratedDate': 1756129977682, 'eventDeliveryDate': 1756130018397, 'retryCount': 0, 'webhookResponseCode': '0', 'webhookDuration': 1, 'lastRetryTime': None, 'nextRetryTime': None, 'message': 'webhook response: failure | ', 'requestId': 'e29419fc1dac843deb9052a1163b39d2'}, {'eventId': 'f1525a9e-99e8-4633-99cb-c58cb913638d', 'orgId': '50202', 'consumerGroupId': '9f6ada64-8bc9-4745-a836-0e71ed46ff6f', 'deliveryStatus': 'FAILED', 'eventSearchKey': '385216571', 'eventType': 'customerAdded', 'originalPayload': '{\"eventId\":\"f1525a9e-99e8-4633-99cb-c58cb913638d\",\"eventType\":\"50202_customerAdded\",\"consumerGroupId\":\"\",\"actionType\":\"START\",\"timeStamp\":1756129977897,\"attributes\":{\"createdAt\":1756129977813,\"data\":{\"loyaltyType\":\"loyalty\",\"source\":\"INSTORE\",\"accountId\":\"\",\"firstName\":\"firstName_2789085\",\"lastName\":\"lastName_2789085\",\"enteredAt\":1756129976205,\"enteredBy\":{\"id\":50119074,\"till\":{\"code\":\"api.auto1\",\"name\":\"api.auto1\"},\"store\":{\"code\":\"alpha\",\"name\":\"alpha_store\",\"externalId\":\"alpha\",\"externalId1\":\"\",\"externalId2\":\"\"}},\"customerIdentifiers\":{\"customerId\":385216571,\"instore\":{\"mobile\":\"917412789085\",\"email\":\"autoemail917412789085@capautomation.com\",\"cardnumber\":\"cardnumber_917412789085\",\"cardNumbers\":[\"cardnumber_917412789085\"]}},\"customFields\":[{\"key\":\"gender\",\"value\":\"MALE\"}],\"extendedFields\":[]},\"eventName\":\"customerAdded\",\"refId\":\"50202_385216571\",\"apiRequestId\":\"e29419fc1dac843deb9052a1163b39d2\",\"orgId\":50202}}', 'enrichedPayload': '\"{\\\\\"createdAt\\\\\":1756129977813,\\\\\"data\\\\\":{\\\\\"loyaltyType\\\\\":\\\\\"loyalty\\\\\",\\\\\"source\\\\\":\\\\\"INSTORE\\\\\",\\\\\"accountId\\\\\":\\\\\"\\\\\",\\\\\"firstName\\\\\":\\\\\"firstName_2789085\\\\\",\\\\\"lastName\\\\\":\\\\\"lastName_2789085\\\\\",\\\\\"enteredAt\\\\\":1756129976205,\\\\\"enteredBy\\\\\":{\\\\\"id\\\\\":50119074,\\\\\"till\\\\\":{\\\\\"code\\\\\":\\\\\"api.auto1\\\\\",\\\\\"name\\\\\":\\\\\"api.auto1\\\\\"},\\\\\"store\\\\\":{\\\\\"code\\\\\":\\\\\"alpha\\\\\",\\\\\"name\\\\\":\\\\\"alpha_store\\\\\",\\\\\"externalId\\\\\":\\\\\"alpha\\\\\",\\\\\"externalId1\\\\\":\\\\\"\\\\\",\\\\\"externalId2\\\\\":\\\\\"\\\\\"}},\\\\\"customerIdentifiers\\\\\":{\\\\\"customerId\\\\\":385216571,\\\\\"loyaltyType\\\\\":\\\\\"loyalty\\\\\",\\\\\"instore\\\\\":{\\\\\"mobile\\\\\":\\\\\"917412789085\\\\\",\\\\\"email\\\\\":\\\\\"autoemail917412789085@capautomation.com\\\\\",\\\\\"cardNumbers\\\\\":[\\\\\"cardnumber_917412789085\\\\\"]}},\\\\\"customFields\\\\\":[{\\\\\"key\\\\\":\\\\\"gender\\\\\",\\\\\"value\\\\\":\\\\\"MALE\\\\\"}],\\\\\"extendedFields\\\\\":[]},\\\\\"eventName\\\\\":\\\\\"customerAdded\\\\\",\\\\\"refId\\\\\":\\\\\"50202_385216571\\\\\",\\\\\"apiRequestId\\\\\":\\\\\"e29419fc1dac843deb9052a1163b39d2\\\\\",\\\\\"orgId\\\\\":50202,\\\\\"eventId\\\\\":\\\\\"f1525a9e-99e8-4633-99cb-c58cb913638d\\\\\"}\"', 'eventGeneratedDate': 1756129977813, 'eventDeliveryDate': 1756130018396, 'retryCount': 0, 'webhookResponseCode': '0', 'webhookDuration': 1, 'lastRetryTime': None, 'nextRetryTime': None, 'message': 'webhook response: failure | ', 'requestId': 'e29419fc1dac843deb9052a1163b39d2'}, {'eventId': '9e939c0c-fec3-4404-aa2d-ef09c3775d72', 'orgId': '50202', 'consumerGroupId': 'c8b04f9c-bb35-421c-bd66-f4da4f98ec00', 'deliveryStatus': 'DELIVERED', 'eventSearchKey': '385216571', 'eventType': 'pointsIssued', 'originalPayload': '{\"eventId\":\"9e939c0c-fec3-4404-aa2d-ef09c3775d72\",\"eventType\":\"50202_pointsIssued\",\"consumerGroupId\":\"\",\"actionType\":\"START\",\"timeStamp\":1756129977777,\"attributes\":{\"createdAt\":1756129977630,\"data\":{\"customerIdentifiers\":{\"customerId\":385216571,\"instore\":{\"mobile\":\"917412789085\",\"email\":\"autoemail917412789085@capautomation.com\",\"cardNumbers\":[]}},\"entityInformation\":{\"entityType\":\"USER\",\"entityId\":385216571},\"triggeringActivity\":{\"name\":\"CustomerRegistration\",\"identifiers\":[{\"key\":\"CustomerId\",\"value\":\"385216571\"}],\"enteredBy\":{\"id\":50119074},\"entityInformation\":{\"entityType\":\"USER\",\"entityId\":385216571},\"additionalAttributes\":[]},\"loyaltyProgramDetails\":{\"id\":868,\"name\":\"SoapUI_AutomationDefaultProgram\",\"isDefault\":true,\"pointsToCurrencyRatio\":1.0,\"tiers\":[{\"tierNumber\":1,\"tierName\":\"Silver\"},{\"tierNumber\":2,\"tierName\":\"Gold\"},{\"tierNumber\":3,\"tierName\":\"Diamond\"}]},\"loyaltyProgramId\":868,\"programCurrentPoints\":140.0,\"programLifetimePoints\":140.0,\"totalPointsIssued\":140.0,\"regularPointsIssued\":140.0,\"regularPointsBreakup\":[{\"points\":140.0,\"expiryAt\":\"2026-08-31\"}],\"promotionalPointsIssued\":[],\"promisedPointsIssued\":[]},\"loyaltyEventId\":\"Er69KH5qsX\",\"eventName\":\"pointsIssued\",\"eventLogId\":7325350,\"refId\":\"50202_Er69KH5qsX\",\"apiRequestId\":\"e29419fc1dac843deb9052a1163b39d2\",\"orgId\":50202}}', 'enrichedPayload': '\"{\\\\\"createdAt\\\\\":1756129977630,\\\\\"data\\\\\":{\\\\\"customerIdentifiers\\\\\":{\\\\\"customerId\\\\\":385216571,\\\\\"loyaltyType\\\\\":\\\\\"loyalty\\\\\",\\\\\"instore\\\\\":{\\\\\"mobile\\\\\":\\\\\"917412789085\\\\\",\\\\\"email\\\\\":\\\\\"autoemail917412789085@capautomation.com\\\\\"}},\\\\\"entityInformation\\\\\":{\\\\\"entityType\\\\\":\\\\\"USER\\\\\",\\\\\"entityId\\\\\":385216571},\\\\\"triggeringActivity\\\\\":{\\\\\"name\\\\\":\\\\\"CustomerRegistration\\\\\",\\\\\"identifiers\\\\\":[{\\\\\"key\\\\\":\\\\\"CustomerId\\\\\",\\\\\"value\\\\\":\\\\\"385216571\\\\\"}],\\\\\"enteredBy\\\\\":{\\\\\"id\\\\\":50119074,\\\\\"till\\\\\":{\\\\\"code\\\\\":\\\\\"api.auto1\\\\\",\\\\\"name\\\\\":\\\\\"api.auto1\\\\\"},\\\\\"store\\\\\":{\\\\\"code\\\\\":\\\\\"alpha\\\\\",\\\\\"name\\\\\":\\\\\"alpha_store\\\\\",\\\\\"externalId\\\\\":\\\\\"alpha\\\\\",\\\\\"externalId1\\\\\":\\\\\"\\\\\",\\\\\"externalId2\\\\\":\\\\\"\\\\\"}},\\\\\"entityInformation\\\\\":{\\\\\"entityType\\\\\":\\\\\"USER\\\\\",\\\\\"entityId\\\\\":385216571},\\\\\"additionalAttributes\\\\\":[]},\\\\\"loyaltyProgramDetails\\\\\":{\\\\\"id\\\\\":868,\\\\\"name\\\\\":\\\\\"SoapUI_AutomationDefaultProgram\\\\\",\\\\\"isDefault\\\\\":true,\\\\\"pointsToCurrencyRatio\\\\\":1,\\\\\"tiers\\\\\":[{\\\\\"tierNumber\\\\\":1,\\\\\"tierName\\\\\":\\\\\"Silver\\\\\"},{\\\\\"tierNumber\\\\\":2,\\\\\"tierName\\\\\":\\\\\"Gold\\\\\"},{\\\\\"tierNumber\\\\\":3,\\\\\"tierName\\\\\":\\\\\"Diamond\\\\\"}]},\\\\\"loyaltyProgramId\\\\\":868,\\\\\"programCurrentPoints\\\\\":140,\\\\\"programLifetimePoints\\\\\":140,\\\\\"totalPointsIssued\\\\\":140,\\\\\"regularPointsIssued\\\\\":140,\\\\\"regularPointsBreakup\\\\\":[{\\\\\"points\\\\\":140,\\\\\"expiryAt\\\\\":\\\\\"2026-08-31\\\\\"}],\\\\\"promotionalPointsIssued\\\\\":[],\\\\\"promisedPointsIssued\\\\\":[]},\\\\\"loyaltyEventId\\\\\":\\\\\"Er69KH5qsX\\\\\",\\\\\"eventName\\\\\":\\\\\"pointsIssued\\\\\",\\\\\"eventLogId\\\\\":7325350,\\\\\"refId\\\\\":\\\\\"50202_Er69KH5qsX\\\\\",\\\\\"apiRequestId\\\\\":\\\\\"e29419fc1dac843deb9052a1163b39d2\\\\\",\\\\\"orgId\\\\\":50202,\\\\\"eventId\\\\\":\\\\\"9e939c0c-fec3-4404-aa2d-ef09c3775d72\\\\\"}\"', 'eventGeneratedDate': 1756129977682, 'eventDeliveryDate': 1756129988749, 'retryCount': 0, 'webhookResponseCode': '200', 'webhookDuration': 211, 'lastRetryTime': None, 'nextRetryTime': None, 'message': 'webhook response: OK | ', 'requestId': 'e29419fc1dac843deb9052a1163b39d2'}, {'eventId': 'f1525a9e-99e8-4633-99cb-c58cb913638d', 'orgId': '50202', 'consumerGroupId': 'c8b04f9c-bb35-421c-bd66-f4da4f98ec00', 'deliveryStatus': 'DELIVERED', 'eventSearchKey': '385216571', 'eventType': 'customerAdded', 'originalPayload': '{\"eventId\":\"f1525a9e-99e8-4633-99cb-c58cb913638d\",\"eventType\":\"50202_customerAdded\",\"consumerGroupId\":\"\",\"actionType\":\"START\",\"timeStamp\":1756129977897,\"attributes\":{\"createdAt\":1756129977813,\"data\":{\"loyaltyType\":\"loyalty\",\"source\":\"INSTORE\",\"accountId\":\"\",\"firstName\":\"firstName_2789085\",\"lastName\":\"lastName_2789085\",\"enteredAt\":1756129976205,\"enteredBy\":{\"id\":50119074,\"till\":{\"code\":\"api.auto1\",\"name\":\"api.auto1\"},\"store\":{\"code\":\"alpha\",\"name\":\"alpha_store\",\"externalId\":\"alpha\",\"externalId1\":\"\",\"externalId2\":\"\"}},\"customerIdentifiers\":{\"customerId\":385216571,\"instore\":{\"mobile\":\"917412789085\",\"email\":\"autoemail917412789085@capautomation.com\",\"cardnumber\":\"cardnumber_917412789085\",\"cardNumbers\":[\"cardnumber_917412789085\"]}},\"customFields\":[{\"key\":\"gender\",\"value\":\"MALE\"}],\"extendedFields\":[]},\"eventName\":\"customerAdded\",\"refId\":\"50202_385216571\",\"apiRequestId\":\"e29419fc1dac843deb9052a1163b39d2\",\"orgId\":50202}}', 'enrichedPayload': '\"{\\\\\"createdAt\\\\\":1756129977813,\\\\\"data\\\\\":{\\\\\"loyaltyType\\\\\":\\\\\"loyalty\\\\\",\\\\\"source\\\\\":\\\\\"INSTORE\\\\\",\\\\\"accountId\\\\\":\\\\\"\\\\\",\\\\\"firstName\\\\\":\\\\\"firstName_2789085\\\\\",\\\\\"lastName\\\\\":\\\\\"lastName_2789085\\\\\",\\\\\"enteredAt\\\\\":1756129976205,\\\\\"enteredBy\\\\\":{\\\\\"id\\\\\":50119074,\\\\\"till\\\\\":{\\\\\"code\\\\\":\\\\\"api.auto1\\\\\",\\\\\"name\\\\\":\\\\\"api.auto1\\\\\"},\\\\\"store\\\\\":{\\\\\"code\\\\\":\\\\\"alpha\\\\\",\\\\\"name\\\\\":\\\\\"alpha_store\\\\\",\\\\\"externalId\\\\\":\\\\\"alpha\\\\\",\\\\\"externalId1\\\\\":\\\\\"\\\\\",\\\\\"externalId2\\\\\":\\\\\"\\\\\"}},\\\\\"customerIdentifiers\\\\\":{\\\\\"customerId\\\\\":385216571,\\\\\"loyaltyType\\\\\":\\\\\"loyalty\\\\\",\\\\\"instore\\\\\":{\\\\\"mobile\\\\\":\\\\\"917412789085\\\\\",\\\\\"email\\\\\":\\\\\"autoemail917412789085@capautomation.com\\\\\"}},\\\\\"customFields\\\\\":[{\\\\\"key\\\\\":\\\\\"gender\\\\\",\\\\\"value\\\\\":\\\\\"MALE\\\\\"}],\\\\\"extendedFields\\\\\":[]},\\\\\"eventName\\\\\":\\\\\"customerAdded\\\\\",\\\\\"refId\\\\\":\\\\\"50202_385216571\\\\\",\\\\\"apiRequestId\\\\\":\\\\\"e29419fc1dac843deb9052a1163b39d2\\\\\",\\\\\"orgId\\\\\":50202,\\\\\"eventId\\\\\":\\\\\"f1525a9e-99e8-4633-99cb-c58cb913638d\\\\\"}\"', 'eventGeneratedDate': 1756129977813, 'eventDeliveryDate': 1756129988748, 'retryCount': 0, 'webhookResponseCode': '200', 'webhookDuration': 199, 'lastRetryTime': None, 'nextRetryTime': None, 'message': 'webhook response: OK | ', 'requestId': 'e29419fc1dac843deb9052a1163b39d2'}]"
resGetWebhookData = ast.literal_eval(resGetWebhookData)
actualEventList = []
processed = set()
flag = True
for data in resGetWebhookData:
    if not flag:
        print("Looping on resGetWebhookData for old service")
        actualEventList.append(data['eventName'])
        if data['eventName'] == 'pointsIssued':
            pointsIssued_refId = data['refId']
            pointsIssued_eventId = data['eventId']
            pointsIssued_eventName = data['eventName']

        elif data['eventName'] == 'customerAdded':
            customerAdded_refId = data['refId']
            customerAdded_eventId = data['eventId']
            customerAdded_eventName = data['eventName']

        elif data['eventName'] == 'customerUpdated':
            customerUpdated_refId = data['refId']
            customerUpdated_eventId = data['eventId']
            customerUpdated_eventName = data['eventName']
        elif data['eventName'] == 'transactionAdded':
            transactionAdded_refId = data['refId']
            transactionAdded_eventId = data['eventId']
            transactionAdded_eventName = data['eventName']

        elif data['eventName'] == 'issuedPointsReversed':
            issuedPointsReversed_refId = data['refId']
            issuedPointsReversed_eventId = data['eventId']
            issuedPointsReversed_eventName = data['eventName']

        elif data['eventName'] == "cardUpdated":
            cardUpdated_refId = data['refId']
            cardUpdated_eventId = data['eventId']
            cardUpdated_eventName = data['eventName']
    else:
        print("Looping on resGetWebhookData for new service")
        print(f"EventDeliveryLog is: {data}")
        if data['deliveryStatus'] in ("PENDING", "RETRYING"):
            continue
        elif data['deliveryStatus'] == "FAILED":
            print(False,
                                         f"Delivery Status is FAILED for eventId: {data['eventId']} and requestId: {data['requestId']}")
        elif data['deliveryStatus'] == "DELIVERED" and data['eventId'] not in processed:
            print(f"Checking for assertion for eventId: {data['eventId']}")
            processed.add(data['eventId'])
            print(data['webhookResponseCode'] == "200",
                                         data['eventType'] + ' response code from webhook 200')
            print(data['webhookDuration'] > 0,
                                         data['eventType'] + ' time taken is greater than 0')
            actualEventList.append(data['eventType'])
            original_payload = json.loads(data['originalPayload'])
            if data['eventType'] == 'pointsIssued':
                pointsIssued_refId = original_payload['attributes']['refId']
                pointsIssued_eventId = data['eventId']
                pointsIssued_eventName = data['eventType']

            elif data['eventType'] == 'customerAdded':
                customerAdded_refId = original_payload['attributes']['refId']
                customerAdded_eventId = data['eventId']
                customerAdded_eventName = data['eventType']

            elif data['eventType'] == 'customerUpdated':
                customerUpdated_refId = original_payload['attributes']['refId']
                customerUpdated_eventId = data['eventId']
                customerUpdated_eventName = data['eventType']
            elif data['eventType'] == 'transactionAdded':
                transactionAdded_refId = original_payload['attributes']['refId']
                transactionAdded_eventId = data['eventId']
                transactionAdded_eventName = data['eventType']

            elif data['eventType'] == 'issuedPointsReversed':
                issuedPointsReversed_refId = original_payload['attributes']['refId']
                issuedPointsReversed_eventId = data['eventId']
                issuedPointsReversed_eventName = data['eventType']

            elif data['eventType'] == "cardUpdated":
                cardUpdated_refId = original_payload['attributes']['refId']
                cardUpdated_eventId = data['eventId']
                cardUpdated_eventName = data['eventType']